<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResponsiveVoice TTS í…ŒìŠ¤íŠ¸</title>
    <!-- ResponsiveVoice ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=YOUR_KEY"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        button {
            padding: 12px 24px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button:hover {
            background: #45a049;
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        #log {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .alternative {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>ëŒ€ì²´ TTS ì†”ë£¨ì…˜ í…ŒìŠ¤íŠ¸</h1>

    <div class="info">
        <h3>ğŸ’¡ macOS Chrome TTS ë¬¸ì œ í•´ê²° ë°©ë²•</h3>
        <p>1. Chrome ì„¤ì • â†’ ì ‘ê·¼ì„± â†’ "ì›¹ ì½˜í…ì¸ ì— ì¶”ê°€ ì ‘ê·¼ì„± ê¸°ëŠ¥ ì‚¬ìš©" í™œì„±í™”</p>
        <p>2. macOS ì‹œìŠ¤í…œ í™˜ê²½ì„¤ì • â†’ ì†ì‰¬ìš´ ì‚¬ìš© â†’ ë§í•˜ê¸° â†’ ì‹œìŠ¤í…œ ìŒì„± ì„ íƒ</p>
        <p>3. Chrome ì¬ì‹œì‘ í›„ í…ŒìŠ¤íŠ¸</p>
    </div>

    <div>
        <h2>ë„¤ì´í‹°ë¸Œ Web Speech API ì¶”ê°€ í…ŒìŠ¤íŠ¸</h2>
        <button onclick="testWithGoogleVoice()">Google ìŒì„±ë§Œ ì‚¬ìš©</button>
        <button onclick="testWithEnglish()">ì˜ì–´ë¡œ í…ŒìŠ¤íŠ¸</button>
        <button onclick="testWithChromeTTS()">Chrome TTS API</button>
        <button onclick="clearLog()">ë¡œê·¸ ì§€ìš°ê¸°</button>
    </div>

    <div class="alternative">
        <h2>ëŒ€ì²´ ë°©ë²• 1: ResponsiveVoice (ë¬´ë£Œ ë²„ì „)</h2>
        <button onclick="testResponsiveVoice()">ResponsiveVoice í…ŒìŠ¤íŠ¸</button>
        <p>ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• (API í‚¤ í•„ìš”)</p>
    </div>

    <div class="alternative">
        <h2>ëŒ€ì²´ ë°©ë²• 2: Google Cloud TTS</h2>
        <button onclick="showGoogleCloudInfo()">Google Cloud TTS ì •ë³´</button>
        <p>ì„œë²„ ì¸¡ êµ¬í˜„ì´ í•„ìš”í•˜ì§€ë§Œ ê°€ì¥ ì•ˆì •ì </p>
    </div>

    <div class="alternative">
        <h2>ëŒ€ì²´ ë°©ë²• 3: ì˜¤ë””ì˜¤ íŒŒì¼ ì‚¬ì „ ìƒì„±</h2>
        <button onclick="testPrerecorded()">ì‚¬ì „ ë…¹ìŒ í…ŒìŠ¤íŠ¸</button>
        <p>ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¬¸ì¥ì„ ë¯¸ë¦¬ ë…¹ìŒ</p>
    </div>

    <div id="log"></div>

    <script>
        const log = (message) => {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            logDiv.textContent += `[${timestamp}] ${message}\n`;
            logDiv.scrollTop = logDiv.scrollHeight;
            console.log(message);
        };

        // Google ìŒì„±ë§Œ ì‚¬ìš©
        function testWithGoogleVoice() {
            log('ğŸ” Google ìŒì„± ê²€ìƒ‰ ì¤‘...');

            const voices = window.speechSynthesis.getVoices();
            const googleVoices = voices.filter(v => v.name.includes('Google'));

            if (googleVoices.length === 0) {
                log('âŒ Google ìŒì„±ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                log('ğŸ’¡ ëŒ€ì‹  Chrome í™•ì¥ í”„ë¡œê·¸ë¨ "Read Aloud"ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”');
                return;
            }

            const googleKorean = googleVoices.find(v => v.lang.includes('ko'));
            if (googleKorean) {
                log(`âœ… Google í•œêµ­ì–´ ìŒì„± ë°œê²¬: ${googleKorean.name}`);

                window.speechSynthesis.cancel();
                const u = new SpeechSynthesisUtterance('Google ìŒì„± í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤');
                u.voice = googleKorean;
                u.onend = () => log('âœ… ì™„ë£Œ');
                u.onerror = (e) => log(`âŒ ì—ëŸ¬: ${e.error}`);
                window.speechSynthesis.speak(u);
            } else {
                log('âŒ Google í•œêµ­ì–´ ìŒì„± ì—†ìŒ');
            }
        }

        // ì˜ì–´ë¡œ í…ŒìŠ¤íŠ¸ (ë³´í†µ ë” ì˜ ì‘ë™í•¨)
        function testWithEnglish() {
            log('ğŸ”¤ ì˜ì–´ TTS í…ŒìŠ¤íŠ¸...');

            window.speechSynthesis.cancel();

            const u = new SpeechSynthesisUtterance('Hello, this is a test');
            u.lang = 'en-US';

            const voices = window.speechSynthesis.getVoices();
            const englishVoice = voices.find(v =>
                v.lang === 'en-US' &&
                (v.name.includes('Google') || v.name.includes('Microsoft'))
            );

            if (englishVoice) {
                u.voice = englishVoice;
                log(`ì„ íƒëœ ìŒì„±: ${englishVoice.name}`);
            }

            u.onstart = () => log('âœ… ì‹œì‘');
            u.onend = () => log('âœ… ì™„ë£Œ');
            u.onerror = (e) => log(`âŒ ì—ëŸ¬: ${e.error}`);

            window.speechSynthesis.speak(u);
        }

        // Chrome TTS API ì§ì ‘ ì‚¬ìš© (Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì—ì„œë§Œ ê°€ëŠ¥)
        function testWithChromeTTS() {
            log('ğŸ”§ Chrome TTS API í…ŒìŠ¤íŠ¸...');

            if (typeof chrome !== 'undefined' && chrome.tts) {
                chrome.tts.speak('Chrome TTS í…ŒìŠ¤íŠ¸', {
                    lang: 'ko-KR',
                    rate: 1.0,
                    onEvent: function(event) {
                        log(`Chrome TTS ì´ë²¤íŠ¸: ${event.type}`);
                    }
                });
            } else {
                log('âŒ Chrome TTS APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                log('ğŸ’¡ Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤');
            }
        }

        // ResponsiveVoice í…ŒìŠ¤íŠ¸
        function testResponsiveVoice() {
            log('ğŸ”Š ResponsiveVoice í…ŒìŠ¤íŠ¸...');

            if (typeof responsiveVoice !== 'undefined') {
                responsiveVoice.speak("ì•ˆë…•í•˜ì„¸ìš”, ResponsiveVoice í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤", "Korean Female");
                log('âœ… ResponsiveVoice ì‹¤í–‰ë¨');
            } else {
                log('âŒ ResponsiveVoiceê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤');
                log('ğŸ’¡ https://responsivevoice.org ì—ì„œ ë¬´ë£Œ API í‚¤ë¥¼ ë°›ìœ¼ì„¸ìš”');
            }
        }

        // Google Cloud TTS ì •ë³´
        function showGoogleCloudInfo() {
            log('â˜ï¸ Google Cloud TTS êµ¬í˜„ ë°©ë²•:');
            log('1. Google Cloud Consoleì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±');
            log('2. Text-to-Speech API í™œì„±í™”');
            log('3. API í‚¤ ìƒì„±');
            log('4. ì„œë²„ì—ì„œ API í˜¸ì¶œ êµ¬í˜„');
            log('5. ìƒì„±ëœ ì˜¤ë””ì˜¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡');
            log('');
            log('ì¥ì : ì•ˆì •ì , ê³ í’ˆì§ˆ, ë‹¤ì–‘í•œ ìŒì„±');
            log('ë‹¨ì : ìœ ë£Œ (ì›” 100ë§Œì ë¬´ë£Œ), ì„œë²„ êµ¬í˜„ í•„ìš”');
        }

        // ì‚¬ì „ ë…¹ìŒ í…ŒìŠ¤íŠ¸
        function testPrerecorded() {
            log('ğŸµ ì‚¬ì „ ë…¹ìŒ ë°©ì‹ í…ŒìŠ¤íŠ¸...');

            // ì˜ˆì‹œ: ì˜¤ë””ì˜¤ íŒŒì¼ ì¬ìƒ
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZizcIG2m98OScTgwOUazi');
            audio.play()
                .then(() => log('âœ… ì˜¤ë””ì˜¤ ì¬ìƒ ì„±ê³µ'))
                .catch(e => log(`âŒ ì˜¤ë””ì˜¤ ì¬ìƒ ì‹¤íŒ¨: ${e.message}`));

            log('ğŸ’¡ ì‹¤ì œ êµ¬í˜„: ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¬¸ì¥ë“¤ì„ ë¯¸ë¦¬ ë…¹ìŒí•˜ì—¬ ì €ì¥');
        }

        function clearLog() {
            document.getElementById('log').textContent = '';
            log('ë¡œê·¸ ì´ˆê¸°í™”ë¨');
        }

        // ì´ˆê¸°í™”
        window.addEventListener('load', () => {
            log('ğŸš€ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');

            const voices = window.speechSynthesis.getVoices();
            log(`ğŸ“¢ ì‚¬ìš© ê°€ëŠ¥í•œ ìŒì„±: ${voices.length}ê°œ`);

            // Google ìŒì„± í™•ì¸
            const googleVoices = voices.filter(v => v.name.includes('Google'));
            if (googleVoices.length > 0) {
                log(`âœ… Google ìŒì„± ${googleVoices.length}ê°œ ë°œê²¬`);
                googleVoices.forEach(v => log(`  - ${v.name} (${v.lang})`));
            } else {
                log('âš ï¸ Google ìŒì„±ì´ ì—†ìŠµë‹ˆë‹¤. ëŒ€ì²´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì„¸ìš”.');
            }

            // macOS í™•ì¸
            if (navigator.platform.includes('Mac')) {
                log('âš ï¸ macOS ê°ì§€ë¨ - Chrome TTS ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤');
            }
        });
    </script>
</body>
</html>